<canvas style=background:red height=300 id=C><script>c=C.getContext("2d");c.f=c.fillRect;m=Math;a=[x=1,t=10];s=[S=[t,t]];y=0;setInterval(()=>(X=S[0]+x,Y=S[1]+y,(X<0|Y<0|X>29|Y>29|s.map(_=>_.join()).includes(X+","+Y))?(s=[S=[t,t]]):(s.unshift(S=[X,Y]),a[0]-X|a[1]-Y?s.pop():(a=a.map(_=>~~(m.random()*30))),c.clearRect(0,0,300,300),[...s,a].map(_=>c.f(_[0]*t,_[1]*t,t,t)||_))),99);onkeydown=e=>{A=(e.which+1)*m.PI/2;x=~~m.cos(A);y=~~m.sin(A)}</script>