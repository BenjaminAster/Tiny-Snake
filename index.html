<canvas style=background:red height=300 id=C><script>c=C.getContext("2d");c.f=c.fillRect;m=Math;a=[x=1,t=10];s=[[h=t,v=t]];y=0;setInterval(()=>(h+=x,v+=y,(h<0|v<0|h>29|v>29|s.map(_=>_.join()).includes(h+","+v))?(s=[[h=t,v=t]]):(s.unshift([h,v]),a[0]-h|a[1]-v?s.pop():(a=a.map(_=>~~(m.random()*30))),c.clearRect(0,0,300,300),[...s,a].map(_=>c.f(_[0]*t,_[1]*t,t,t)||_))),99);onkeydown=e=>{A=(e.which+1)*m.PI/2;x=~~m.cos(A);y=~~m.sin(A)}</script>