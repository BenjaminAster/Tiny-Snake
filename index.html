<canvas style=background:red height=300 id=C><script>c=C.getContext("2d");m=Math;a=[x=setInterval(()=>(S=[X+=x,Y+=y],(X<0|Y<0|X>29|Y>29|s.some(_=>""+_==S))?R():(s=[S,...s],""+a!=S?s.pop():a=a.map(_=>m.random()*30|0),c.clearRect(0,0,300,300),[...s,a].map(_=>c.fillRect(_[0]*t,_[1]*t,t,t)))),99),t=10];(R=_=>s=[S=[X=t,Y=t]])();y=0;onkeydown=e=>(A=e.which*m.PI/2,x=~~-m.sin(A),y=~~m.cos(A))</script>